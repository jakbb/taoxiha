package com.taoxiha.common.utils.io;import java.io.BufferedReader;import java.io.File;import java.io.IOException;import java.io.InputStream;import java.io.InputStreamReader;import java.io.RandomAccessFile;import org.springframework.core.io.ClassPathResource;import org.springframework.core.io.Resource;public class FileUtils {		 /**     * 根据classpath 读取文件     *     * @param path filepath     * @return filecontent     */    public static String getFileContent(String path) {        StringBuilder line = new StringBuilder("");        BufferedReader br = null;        try {            Resource res2 = new ClassPathResource(path);            InputStream ins2 = res2.getInputStream();            br = new BufferedReader(new InputStreamReader(ins2, "utf-8"));            String lineStr = null;            while ((lineStr = br.readLine()) != null) {                line.append(lineStr).append("\n");            }        } catch (IOException e) {                e.printStackTrace();        } finally {            if (br != null) {                try {                    br.close();                } catch (IOException e) {                    e.printStackTrace();                }            }        }        return line.toString();    }            public static String getContent(String path,String encoding) throws Exception{      return 	IOHelper.readFile(new File(path), encoding);    }		/**	 * 	* @Title: getIndex 	* @Description:获取文件最后索引ID	* @Author zguowei jakbb01@gmail.com	* @Time 2012-9-6 上午11:18:13	* @param filePath  ex: /data/file1	* @return	* @return String	* @throws	 */	public static String getIndex(String filePath){		if(filePath.isEmpty()){			return "";		}		String lastLine = "";	try {		RandomAccessFile raf= new RandomAccessFile(filePath, "r");						long len = raf.length();						if (len != 0L) {							long pos = len - 1;							while (pos > 0) {								pos--;								raf.seek(pos);								if (raf.readByte() == '\n') {									lastLine = raf.readLine();									break;								}							}							if (pos == 0) {								lastLine = raf.readLine();							}						}						raf.close();									if(lastLine.isEmpty()){				return "";			}			String[] str = lastLine.split(",");			if(str[0]!=null){				return str[0];			}			return "";	} catch (Exception e) {		e.printStackTrace();	}	return lastLine;	}}